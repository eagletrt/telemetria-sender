<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: utils/can_utils/can_utils.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_cbdb8362360e11eafe2fa3bc74cf0ffd.html">utils</a></li><li class="navelem"><a class="el" href="dir_2e84922e42e9c705f60ae5d35695d47f.html">can_utils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">can_utils.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="can__utils_8h_source.html">can_utils.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for can_utils.c:</div>
<div class="dyncontent">
<div class="center"><img src="can__utils_8c__incl.png" border="0" usemap="#utils_2can__utils_2can__utils_8c" alt=""/></div>
<map name="utils_2can__utils_2can__utils_8c" id="utils_2can__utils_2can__utils_8c">
<area shape="rect" title=" " alt="" coords="402,5,541,47"/>
<area shape="rect" href="can__utils_8h.html" title=" " alt="" coords="425,95,517,121"/>
<area shape="rect" title=" " alt="" coords="5,169,76,196"/>
<area shape="rect" title=" " alt="" coords="101,169,167,196"/>
<area shape="rect" title=" " alt="" coords="191,169,266,196"/>
<area shape="rect" title=" " alt="" coords="291,169,361,196"/>
<area shape="rect" title=" " alt="" coords="386,169,453,196"/>
<area shape="rect" title=" " alt="" coords="477,169,573,196"/>
<area shape="rect" title=" " alt="" coords="597,169,700,196"/>
<area shape="rect" title=" " alt="" coords="725,169,813,196"/>
<area shape="rect" title=" " alt="" coords="837,169,930,196"/>
<area shape="rect" title=" " alt="" coords="954,169,1074,196"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a511005e4cb027db07cdbcfb3c32342ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="can__utils_8c.html#a511005e4cb027db07cdbcfb3c32342ff">canOpenSocket</a> (const char *can_device, struct sockaddr_can *<a class="el" href="program__listing__file__utils__can__utils__can__utils_8h_8rst_8txt.html#ad3842663502ac9abebb335aea4c861d6">address</a>)</td></tr>
<tr class="separator:a511005e4cb027db07cdbcfb3c32342ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c592e0db2b5f124ff86c947e8e6e79a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="can__utils_8c.html#a2c592e0db2b5f124ff86c947e8e6e79a">canSendSimple</a> (<a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a> socket, const char *<a class="el" href="program__listing__file__utils__gather__utils__gather__utils_8template_8c_8rst_8txt.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>)</td></tr>
<tr class="separator:a2c592e0db2b5f124ff86c947e8e6e79a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab86be082c2e50660788fc72c3ac674ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="can__utils_8c.html#ab86be082c2e50660788fc72c3ac674ae">canSend</a> (<a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a> socket, <a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a> id, <a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a> length, const char *<a class="el" href="program__listing__file__utils__gather__utils__gather__utils_8template_8c_8rst_8txt.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>)</td></tr>
<tr class="separator:ab86be082c2e50660788fc72c3ac674ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8ef5d4c913bc0fbf069e3cc723dd8ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="can__utils_8c.html#ab8ef5d4c913bc0fbf069e3cc723dd8ed">canReceiveSimple</a> (<a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a> socket, char **<a class="el" href="program__listing__file__utils__gather__utils__gather__utils_8template_8c_8rst_8txt.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>)</td></tr>
<tr class="separator:ab8ef5d4c913bc0fbf069e3cc723dd8ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5488a3b4d4b754c9dc07f58af5b84c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="can__utils_8c.html#ac5488a3b4d4b754c9dc07f58af5b84c2">canReceive</a> (<a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a> socket, <a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a> *id, char **<a class="el" href="program__listing__file__utils__gather__utils__gather__utils_8template_8c_8rst_8txt.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>)</td></tr>
<tr class="separator:ac5488a3b4d4b754c9dc07f58af5b84c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8796f5bee2fe9a0446531c7ca355a416"><td class="memItemLeft" align="right" valign="top"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="can__utils_8c.html#a8796f5bee2fe9a0446531c7ca355a416">canReceiveCompact</a> (<a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a> socket, <a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a> *id, <a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a> *dataLeft, <a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a> *dataRight)</td></tr>
<tr class="separator:a8796f5bee2fe9a0446531c7ca355a416"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a511005e4cb027db07cdbcfb3c32342ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a511005e4cb027db07cdbcfb3c32342ff">&#9670;&nbsp;</a></span>canOpenSocket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a> canOpenSocket </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>can_device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr_can *&#160;</td>
          <td class="paramname"><em>address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function opens the can socket</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">can_device</td><td>The can device (es. "can0") </td></tr>
    <tr><td class="paramname">address</td><td>The address that will be filled </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The opened can socket. -1 if there was an error in opening the socket, -2 if there was an error binding the socket </dd></dl>

</div>
</div>
<a id="ac5488a3b4d4b754c9dc07f58af5b84c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5488a3b4d4b754c9dc07f58af5b84c2">&#9670;&nbsp;</a></span>canReceive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a> canReceive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a>&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a> *&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function reads data from the can, retrieving also the id of the message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>The can socket </td></tr>
    <tr><td class="paramname">id</td><td>The integer wher the id of the message is saved </td></tr>
    <tr><td class="paramname">data</td><td>The char array where the read data is saved </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 if there was an error </dd></dl>

</div>
</div>
<a id="a8796f5bee2fe9a0446531c7ca355a416"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8796f5bee2fe9a0446531c7ca355a416">&#9670;&nbsp;</a></span>canReceiveCompact()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a> canReceiveCompact </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a>&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a> *&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a> *&#160;</td>
          <td class="paramname"><em>dataLeft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a> *&#160;</td>
          <td class="paramname"><em>dataRight</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function reads data from the can, specifying also an id and storing the data into two integers containing the numbers representing respectively the first four bytes and the last four bytes of the message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>The can socket </td></tr>
    <tr><td class="paramname">id</td><td>The integer wher the id of the message is saved </td></tr>
    <tr><td class="paramname">dataLeft</td><td>The number contained in the first four bytes of the can message </td></tr>
    <tr><td class="paramname">dataRight</td><td>The number contained in the last four bytes of the can message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 if there was an error </dd></dl>

</div>
</div>
<a id="ab8ef5d4c913bc0fbf069e3cc723dd8ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8ef5d4c913bc0fbf069e3cc723dd8ed">&#9670;&nbsp;</a></span>canReceiveSimple()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a> canReceiveSimple </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a>&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function reads data from the can</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>The can socket </td></tr>
    <tr><td class="paramname">data</td><td>The char array where the read data is saved </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 if there was an error </dd></dl>

</div>
</div>
<a id="ab86be082c2e50660788fc72c3ac674ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab86be082c2e50660788fc72c3ac674ae">&#9670;&nbsp;</a></span>canSend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a> canSend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a>&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a>&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function sends data into the can</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>The can socket </td></tr>
    <tr><td class="paramname">id</td><td>The id of the message </td></tr>
    <tr><td class="paramname">length</td><td>The length of the message </td></tr>
    <tr><td class="paramname">data</td><td>The message to send, as a char array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 if there was an error </dd></dl>

</div>
</div>
<a id="a2c592e0db2b5f124ff86c947e8e6e79a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c592e0db2b5f124ff86c947e8e6e79a">&#9670;&nbsp;</a></span>canSendSimple()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a> canSendSimple </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="function__jsmn__8c__1a20b875e37a2a5c88888c6d80068715be_8rst_8txt.html#a59c2e93238bb8e664055441c825882fc">int</a>&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function sends data into the can The id will be 0x7FFS</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>The can socket </td></tr>
    <tr><td class="paramname">data</td><td>The message to send, as a char array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 if there was an error </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
